<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job chooser</title>
    <style>
        body {
            user-select: none;
            color: #daa520;
        }

        img {
            height: 329px;
        }

        .checkboxes {
            display: flex;
        }

        .biggerButton {
            height: 80px;
            width: 100px;
            margin-bottom: 10px;
            opacity: 100%;
        }

        button {
            opacity: 70%;
        }

        #tankButton {
            background-color: blue;
            font-size: large;
        }

        #healerButton {
            background-color: green;
            font-size: large;
        }

        #DPSButton {
            background-color: red;
            font-size: large;
        }

        #Checks {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
    </style>
</head>

<body>
    <div id="filterbutton">
        <button onclick="filterView()" style="height: 75px; width: 100px; font-size: large;">Filter</button>
    </div>
    <div id="scree">
        <h1>Choose a random FFXIV job!</h1>
        <div>
            <button onClick="updateView();" style="height: 250px; width: 250px; font-size: x-large;">Find a
                job</button>
        </div>
    </div>
    <div id="imagur"></div>

</body>
<script>
    //Modell
    let jobNumber;
    let jobs = [
        { jobName: "Paladin", role: "tank", color: 'blue', checked: true, },
        { jobName: "Gunbreaker", role: "tank", color: 'blue', checked: true, },
        { jobName: "Dark knight", role: "tank", color: 'blue', checked: true, },
        { jobName: "Warrior", role: "tank", color: 'blue', checked: true, },
        { jobName: "Reaper", role: "DPS", sub_role: "melee", color: 'red', checked: true, },
        { jobName: "Ninja", role: "DPS", sub_role: "melee", color: 'red', checked: true, },
        { jobName: "Samurai", role: "DPS", sub_role: "melee", color: 'red', checked: true, },
        { jobName: "Monk", role: "DPS", sub_role: "melee", color: 'red', checked: true, },
        { jobName: "Dragoon", role: "DPS", sub_role: "melee", color: 'red', checked: true, },
        { jobName: "Bard", role: "DPS", sub_role: "physicalrange", color: 'red', checked: true, },
        { jobName: "Machinist", role: "DPS", sub_role: "physicalrange", color: 'red', checked: true, },
        { jobName: "Dancer", role: "DPS", sub_role: "physicalrange", color: 'red', checked: true, },
        { jobName: "Red mage", role: "DPS", sub_role: "magicrange", color: 'red', checked: true, },
        { jobName: "Black mage", role: "DPS", sub_role: "magicrange", color: 'red', checked: true, },
        { jobName: "Summoner", role: "DPS", sub_role: "magicrange", color: 'red', checked: true, },
        { jobName: "Scholar", role: "healer", sub_role: "protective", color: 'green', checked: true, },
        { jobName: "White mage", role: "healer", sub_role: "regenerative", color: 'green', checked: true, },
        { jobName: "Astrologian", role: "healer", sub_role: "regenerative", color: 'green', checked: true, },
        { jobName: "Sage", role: "healer", sub_role: "protective", color: 'green', checked: true, },
    ]
        ;
    let filteredJobs = jobs;

    //View
    function updateView() {
        document.getElementById('filterbutton').innerHTML = /*html*/ `
        <button onclick="filterView()" style="height: 75px; width: 100px; font-size: large;">Filter</button>
        `
        randomJob()
        document.body.style.backgroundColor = filteredJobs[jobNumber].color;


        document.getElementById('scree').innerHTML = /*HTML*/ `
        <h1>${filteredJobs[jobNumber].jobName}</h1>
        `

        document.getElementById('imagur').innerHTML = /*HTML*/ `
        <div>
            <button onClick="updateView();" style="height: 250px; width: 250px; font-size: x-large;">Another job</button>
        </div>
        `

    }

    function filterView() {
        document.body.style.backgroundColor = 'beige';

        document.getElementById("filterbutton").innerHTML = /*html*/ `
        <button class="biggerButton" onClick="updateView()" style="height: 75px; width: 100px; font-size: large;">Find a job</button>
        `
        document.getElementById('scree').innerHTML = /*html*/ `
        <h2>Specify which role you want to choose from<h2>
            <hr>
            <button id="tankButton" class="biggerButton" onclick="tankFilter()">Tank</button><br>
            <button id="healerButton" class="biggerButton" onclick="healerFilter()">Healer</button><br>
            <button id="healerButton" class="biggerButton" onclick="regenFilter()">Regen</button><br>
            <button id="healerButton" class="biggerButton" onclick="barrierFilter()">Barrier</button><br>
            <button id="DPSButton" class="biggerButton" onclick="DPSFilter()">DPS</button><br>
            <button id="DPSButton" class="biggerButton" onclick="meleeFilter()">Melee</button>
            <button id="DPSButton" class="biggerButton" onclick="rangeFilter()">Range</button>
            <button id="DPSButton" class="biggerButton" onclick="magicFilter()">Magic</button>
            <hr>
            <button class="biggerButton" onclick="toggleFilter()">Toggle all</button>
            <hr>
            <h2>Check off the jobs individually</h2>
            <div id="Checks">
                
                </div>
                <hr>
            
           
        `
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].checked === true) {
                document.getElementById('Checks').innerHTML += /*html*/`
            <input type='checkbox' id='${jobs[i].jobName}' checked onchange="filterOff(${i})"><p style='margin-top: 0px;'> ${jobs[i].jobName} </p>
                    `}
            else {
                document.getElementById('Checks').innerHTML += /*html*/`
                    <input type = 'checkbox' id = '${jobs[i].jobName}' onchange='filterOn(${i})'> <p style='margin-top: 0px;'> ${jobs[i].jobName} </p>
            `};
        }
        document.getElementById('imagur').innerHTML = '';
    }
    //Controller

    function randomJob() { /*velger et tilfeldig tall for de jobbene som kan velges*/
        jobNumber = Math.floor(Math.random() * filteredJobs.length);
        console.log(jobNumber);
    }

    function tankFilter() { /*Gjør sånn at bare tanks kan velges*/
        // filteredJobs = []
        // for (let i = 0; i < jobs.length; i++) {
        //     if (jobs[i].role == "tank") {
        //         filteredJobs.push(jobs[i]);
        //         jobs[i].checked = true;
        //     }
        //     else { jobs[i].checked = false; }
        // }
        if (jobs[0].checked && jobs[1].checked && jobs[2].checked && jobs[3].checked) {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].role == 'tank') {
                    jobs[i].checked = false;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        else {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].role == 'tank') {
                    jobs[i].checked = true;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        console.log(filteredJobs);
        filterView()
    }
    function healerFilter() { /*Gjør sånn at bare healers kan velges*/
        // filteredJobs = []
        // for (let i = 0; i < jobs.length; i++) {
        //     if (jobs[i].role == "healer") {
        //         filteredJobs.push(jobs[i]);
        //         jobs[i].checked = true;
        //     }
        //     else { jobs[i].checked = false; }
        // }
        if (jobs[15].checked && jobs[16].checked && jobs[17].checked && jobs[18].checked) {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].role == 'healer') {
                    jobs[i].checked = false;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        else {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].role == 'healer') {
                    jobs[i].checked = true;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }

        console.log(filteredJobs);
        filterView()
    }
    function regenFilter() { /*Gjør sånn at bare regen healers kan velges*/
        // filteredJobs = []
        // for (let i = 0; i < jobs.length; i++) {
        //     if (jobs[i].sub_role == "regenerative") {
        //         filteredJobs.push(jobs[i]);
        //         jobs[i].checked = true;
        //     }
        //     else { jobs[i].checked = false; }
        // }
        if (jobs[16].checked && jobs[17].checked) {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'regenerative') {
                    jobs[i].checked = false;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        else {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'regenerative') {
                    jobs[i].checked = true;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        console.log(filteredJobs);
        filterView()
    }
    function barrierFilter() { /*Gjør sånn at bare barrier healers kan velges*/
        // filteredJobs = []
        // for (let i = 0; i < jobs.length; i++) {
        //     if (jobs[i].sub_role == "protective") {
        //         filteredJobs.push(jobs[i]);
        //         jobs[i].checked = true;
        //     }
        //     else { jobs[i].checked = false; }
        // }
        if (jobs[15].checked && jobs[18].checked) {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'protective') {
                    jobs[i].checked = false;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        else {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'protective') {
                    jobs[i].checked = true;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }

        console.log(filteredJobs);
        filterView()
    }

    function DPSFilter() { /*Gjør sånn at bare dps kan velges*/
        // filteredJobs = []
        // for (let i = 0; i < jobs.length; i++) {
        //     if (jobs[i].role == "DPS") {
        //         filteredJobs.push(jobs[i]);
        //         jobs[i].checked = true;
        //     }
        //     else { jobs[i].checked = false; }
        // }
        if (jobs[4].checked && jobs[5].checked && jobs[6].checked && jobs[7].checked && jobs[8].checked && jobs[9].checked && jobs[10].checked && jobs[11].checked && jobs[12].checked && jobs[13].checked && jobs[14].checked) {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].role == 'DPS') {
                    jobs[i].checked = false;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        else {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].role == 'DPS') {
                    jobs[i].checked = true;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }

        console.log(filteredJobs);
        filterView()
    }

    function rangeFilter() { /*gjør sånn at bare fysisk langdistanse dps kan velges*/
        // filteredJobs = []
        // for (let i = 0; i < jobs.length; i++) {
        //     if (jobs[i].sub_role == "physicalrange") {
        //         filteredJobs.push(jobs[i]);
        //         jobs[i].checked = true;
        //     }
        //     else { jobs[i].checked = false; }
        // }
        if (jobs[9].checked && jobs[10].checked && jobs[11].checked) {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'physicalrange') {
                    jobs[i].checked = false;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        else {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'physicalrange') {
                    jobs[i].checked = true;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }


        console.log(filteredJobs);
        filterView()
    }

    function meleeFilter() { /*gjør sånn at bare nærkamp dps kan velges*/
        // filteredJobs = []
        // for (let i = 0; i < jobs.length; i++) {
        //     if (jobs[i].sub_role == "melee") {
        //         filteredJobs.push(jobs[i]);
        //         jobs[i].checked = true;
        //     }
        //     else { jobs[i].checked = false; }
        // }
        if (jobs[4].checked && jobs[5].checked && jobs[6].checked && jobs[7].checked && jobs[8].checked) {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'melee') {
                    jobs[i].checked = false;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        else {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'melee') {
                    jobs[i].checked = true;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }

        console.log(filteredJobs);
        filterView()
    }

    function magicFilter() { /*gjør sånn at bare magisk dps kan velges*/
        // filteredJobs = []
        // for (let i = 0; i < jobs.length; i++) {
        //     if (jobs[i].sub_role == "magicrange") {
        //         filteredJobs.push(jobs[i]);
        //         jobs[i].checked = true;
        //     }
        //     else { jobs[i].checked = false; }
        // }
        if (jobs[12].checked && jobs[13].checked && jobs[14].checked) {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'magicrange') {
                    jobs[i].checked = false;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }
        else {
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].sub_role == 'magicrange') {
                    jobs[i].checked = true;
                }
                filteredJobs = [];
                for (let i = 0; i < jobs.length; i++) {
                    if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
                }
            }
        }

        console.log(filteredJobs);
        filterView()
    }

    function filterOn(i) { /*Filterfunksjon for enkel checkbox, som setter jobben inn i valget*/
        jobs[i].checked = true;
        filteredJobs = [];
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
        }
        console.log(filteredJobs)
        filterView()
    }
    function filterOff(index) { /*Filterfunksjon for enkel checkbox, som setter jobben ut i valget*/
        jobs[index].checked = false;
        filteredJobs = [];
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
        }
        console.log(filteredJobs)
        filterView()
    }

    function toggleFilter() { /*fjerner filtret sånn at alle kan velges*/
        // filteredJobs = jobs;
        // for (let i = 0; i < jobs.length; i++) {
        //     jobs[i].checked = true
        // }
        // filterView();
        if (filteredJobs.length == 19) {
            for (let i = 0; i < jobs.length; i++) {
                jobs[i].checked = false
            }
        }
        else {
            for (let i = 0; i < jobs.length; i++) {
                jobs[i].checked = true;
            }
        }
        filteredJobs = [];
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].checked === true) { filteredJobs.push(jobs[i]) }
        }
        filterView();
    }
</script>

</html>