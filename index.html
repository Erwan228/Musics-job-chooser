<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job chooser</title>
    <style>
        body {
            user-select: none;
            color: #daa520;
        }

        img {
            height: 329px;
        }

        .checkboxes {
            display: flex;
        }

        .biggerButton {
            height: 80px;
            width: 100px;
            margin-bottom: 10px;
            opacity: 100%;
        }

        button {
            opacity: 70%;
        }
    </style>
</head>

<body>
    <div id="filterbutton">
        <button onclick="filterView()" style="height: 75px; width: 100px; font-size: large;">Filter</button>
    </div>
    <div id="scree">
        <h1>Choose a random FFXIV job!</h1>
        <div>
            <button onClick="updateView();" style="height: 250px; width: 250px; font-size: x-large;">Find a
                job</button>
        </div>
    </div>
    <div id="imagur"></div>
    <!-- <details>
        <summary>Tanks</summary>
        <li>Paladin <input type="checkbox" value='checked' onchange=""></li>
    </details> -->
</body>
<script>
    //Modell
    let jobNumber;
    let jobs = [
        { jobName: "Paladin", role: "tank", color: 'blue', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/paladin.jpg', },
        { jobName: "Gunbreaker", role: "tank", color: 'blue', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/gunbreaker.jpg', },
        { jobName: "Dark knight", role: "tank", color: 'blue', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/darkknight.jpg', },
        { jobName: "Warrior", role: "tank", color: 'blue', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/warrior.jpg', },
        { jobName: "Reaper", role: "DPS", sub_role: "melee", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/reaper.jpg', },
        { jobName: "Ninja", role: "DPS", sub_role: "melee", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/ninja.png', },
        { jobName: "Samurai", role: "DPS", sub_role: "melee", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/samurai.png', },
        { jobName: "Monk", role: "DPS", sub_role: "melee", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/monk.jpg', },
        { jobName: "Dragoon", role: "DPS", sub_role: "melee", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/dragoon.jpg', },
        { jobName: "Bard", role: "DPS", sub_role: "physicalrange", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/bard.jpg', },
        { jobName: "Machinist", role: "DPS", sub_role: "physicalrange", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/machinist.jpg', },
        { jobName: "Dancer", role: "DPS", sub_role: "physicalrange", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/dancer.jpg', },
        { jobName: "Red mage", role: "DPS", sub_role: "magicrange", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/redmage.png', },
        { jobName: "Black mage", role: "DPS", sub_role: "magicrange", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/blackmage.jpg', },
        { jobName: "Summoner", role: "DPS", sub_role: "magicrange", color: 'red', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/summoner.jpg', },
        { jobName: "Scholar", role: "healer", sub_role: "protective", color: 'green', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/scholar.jpg', },
        { jobName: "White mage", role: "healer", sub_role: "regenerative", color: 'green', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/whitemage.jpg', },
        { jobName: "Astrologian", role: "healer", sub_role: "regenerative", color: 'green', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/astrologian.jpg', },
        { jobName: "Sage", role: "healer", sub_role: "protective", color: 'green', picture: 'https://erwan228.github.io/Musics-job-chooser/heroes/sage.jpg', },
    ]
        ;
    let filteredJobs = jobs;

    //View
    function updateView() {
        document.getElementById('filterbutton').innerHTML = /*html*/ `
        <button onclick="filterView()" style="height: 75px; width: 100px; font-size: large;">Filter</button>
        `
        randomJob()
        document.body.style.backgroundColor = filteredJobs[jobNumber].color;


        document.getElementById('scree').innerHTML = /*HTML*/ `
        <h1>${filteredJobs[jobNumber].jobName}</h1>
        `

        document.getElementById('imagur').innerHTML = /*HTML*/ `
        <img src=${filteredJobs[jobNumber].picture}> 
        <div>
            <button onClick="updateView();" style="height: 250px; width: 250px; font-size: x-large;">Another job</button>
        </div>
        `

    }

    function filterView() {
        document.body.style.backgroundColor = 'beige';

        document.getElementById("filterbutton").innerHTML = /*html*/ `
        <button class="biggerButton" onClick="updateView()" style="height: 75px; width: 100px; font-size: large;">Find a job</button>
        `
        document.getElementById('scree').innerHTML = /*html*/ `
        <h2>Filter out (or inn) the jobs you want to choose from<h2>
            <hr>
            <button id="tankButton" class="biggerButton" onclick="tankFilter()">Tank</button><br>
            <button id="healerButton" class="biggerButton" onclick="healerFilter()">Healer</button><br>
            <button id="DPSButton" class="biggerButton" onclick="DPSFilter()">DPS</button><br>
            <button id="DPSButton" class="biggerButton" onclick="meleeFilter()">Melee</button>
            <button id="DPSButton" class="biggerButton" onclick="rangeFilter()">Range</button>
            <button id="DPSButton" class="biggerButton" onclick="magicFilter()">Magic</button>
            <hr>
            <button class="biggerButton" onclick="resetFilter()">Reset filter</button>
           
        `
        document.getElementById('imagur').innerHTML = '';
    }
    //Controller

    function randomJob() { /*velger et tilfeldig tall for de jobbene som kan velges*/
        jobNumber = Math.floor(Math.random() * filteredJobs.length);
        console.log(jobNumber);
    }

    function tankFilter() { /*Gjør sånn at bare tanks kan velges*/
        filteredJobs = []
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].role == "tank") { filteredJobs.push(jobs[i]) }
        }
        console.log(filteredJobs);
    }
    function healerFilter() { /*Gjør sånn at bare healers kan velges*/
        filteredJobs = []
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].role == "healer") { filteredJobs.push(jobs[i]) }
        }
        console.log(filteredJobs);
    }
    function DPSFilter() { /*Gjør sånn at bare dps*/
        filteredJobs = []
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].role == "DPS") { filteredJobs.push(jobs[i]) }
        }
        console.log(filteredJobs);
    }
    function rangeFilter() { /*fysisk langdistanse*/
        filteredJobs = []
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].sub_role == "physicalrange") { filteredJobs.push(jobs[i]) }
        }
        console.log(filteredJobs);
    }
    function meleeFilter() { /*nærkamp*/
        filteredJobs = []
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].sub_role == "melee") { filteredJobs.push(jobs[i]) }
        }
        console.log(filteredJobs);
    }
    function magicFilter() { /*casting*/
        filteredJobs = []
        for (let i = 0; i < jobs.length; i++) {
            if (jobs[i].sub_role == "magicrange") { filteredJobs.push(jobs[i]) }
        }
        console.log(filteredJobs);
    }

    function resetFilter() { /*fjerner filtret*/
        filteredJobs = jobs;
    }
</script>

</html>